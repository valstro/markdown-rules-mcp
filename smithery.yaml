# Smithery configuration file: https://smithery.ai/docs/deployments

startCommand:
  type: stdio
  configSchema:
    type: object
    properties:
      markdownInclude:
        type: string
        description: Glob patterns to include Markdown files.
        default: "**/*.md"
      markdownExclude:
        type: string
        description: Glob patterns to exclude Markdown files.
        default: "**/node_modules/**,**/build/**,**/dist/**,**/.git/**,**/coverage/**,**/.next/**,**/.nuxt/**,**/out/**,**/.cache/**,**/tmp/**,**/temp/**"
      hoistContext:
        type: boolean
        description: Whether to hoist context.
        default: true
  commandFunction:
    |-
    (config) => {
      const env = {}
      
      if (config.markdownInclude) {
        env.MARKDOWN_INCLUDE = config.markdownInclude
      }

      if (config.markdownExclude) {
        env.MARKDOWN_EXCLUDE = config.markdownExclude
      }

      if (config.hoistContext) {
        env.HOIST_CONTEXT = config.hoistContext
      }

      return { 
        command: 'node', 
        args: ['build/index.js'], 
        env 
      }
    }